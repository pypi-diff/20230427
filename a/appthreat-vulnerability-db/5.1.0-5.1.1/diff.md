# Comparing `tmp/appthreat-vulnerability-db-5.1.0.tar.gz` & `tmp/appthreat-vulnerability-db-5.1.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "appthreat-vulnerability-db-5.1.0.tar", last modified: Thu Apr 27 11:46:31 2023, max compression
+gzip compressed data, was "appthreat-vulnerability-db-5.1.1.tar", last modified: Thu Apr 27 17:11:51 2023, max compression
```

## Comparing `appthreat-vulnerability-db-5.1.0.tar` & `appthreat-vulnerability-db-5.1.1.tar`

### file list

```diff
@@ -1,34 +1,34 @@
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:31.276837 appthreat-vulnerability-db-5.1.0/
--rw-r--r--   0 runner    (1001) docker     (123)     1066 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/LICENSE
--rw-r--r--   0 runner    (1001) docker     (123)     3168 2023-04-27 11:46:31.276837 appthreat-vulnerability-db-5.1.0/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)     2209 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/README.md
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:31.272837 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/
--rw-r--r--   0 runner    (1001) docker     (123)     3168 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)      629 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (123)        1 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (123)       37 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (123)       83 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (123)        9 2023-04-27 11:46:31.000000 appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (123)       38 2023-04-27 11:46:31.276837 appthreat-vulnerability-db-5.1.0/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (123)     1428 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:31.272837 appthreat-vulnerability-db-5.1.0/test/
--rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     5827 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/test_db.py
--rw-r--r--   0 runner    (1001) docker     (123)     3412 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/test_npm.py
--rw-r--r--   0 runner    (1001) docker     (123)    13949 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/test_source.py
--rw-r--r--   0 runner    (1001) docker     (123)     1116 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/test_storage.py
--rw-r--r--   0 runner    (1001) docker     (123)    25482 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/test/test_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:31.276837 appthreat-vulnerability-db-5.1.0/vdb/
--rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     7156 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/cli.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 11:46:31.276837 appthreat-vulnerability-db-5.1.0/vdb/lib/
--rw-r--r--   0 runner    (1001) docker     (123)    16533 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)    39414 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/aqua.py
--rw-r--r--   0 runner    (1001) docker     (123)     5712 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/config.py
--rw-r--r--   0 runner    (1001) docker     (123)     9709 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/db.py
--rwxr-xr-x   0 runner    (1001) docker     (123)    10714 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/gha.py
--rw-r--r--   0 runner    (1001) docker     (123)    10325 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/npm.py
--rw-r--r--   0 runner    (1001) docker     (123)     8479 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/nvd.py
--rw-r--r--   0 runner    (1001) docker     (123)    12932 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/osv.py
--rw-r--r--   0 runner    (1001) docker     (123)     3880 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/storage.py
--rw-r--r--   0 runner    (1001) docker     (123)    34926 2023-04-27 11:46:14.000000 appthreat-vulnerability-db-5.1.0/vdb/lib/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:51.166341 appthreat-vulnerability-db-5.1.1/
+-rw-r--r--   0 runner    (1001) docker     (123)     1066 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)     3168 2023-04-27 17:11:51.166341 appthreat-vulnerability-db-5.1.1/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     2209 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/README.md
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:51.162341 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)     3168 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)      629 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       37 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       83 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        9 2023-04-27 17:11:51.000000 appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       38 2023-04-27 17:11:51.166341 appthreat-vulnerability-db-5.1.1/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)     1428 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:51.162341 appthreat-vulnerability-db-5.1.1/test/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5827 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/test_db.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3412 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/test_npm.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13949 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/test_source.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1116 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/test_storage.py
+-rw-r--r--   0 runner    (1001) docker     (123)    25482 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/test/test_utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:51.162341 appthreat-vulnerability-db-5.1.1/vdb/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:37.000000 appthreat-vulnerability-db-5.1.1/vdb/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7218 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/cli.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-27 17:11:51.166341 appthreat-vulnerability-db-5.1.1/vdb/lib/
+-rw-r--r--   0 runner    (1001) docker     (123)    16533 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    39414 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/aqua.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5712 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9709 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/db.py
+-rwxr-xr-x   0 runner    (1001) docker     (123)    10714 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/gha.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10325 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/npm.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8479 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/nvd.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12932 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/osv.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3900 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/storage.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34926 2023-04-27 17:11:38.000000 appthreat-vulnerability-db-5.1.1/vdb/lib/utils.py
```

### Comparing `appthreat-vulnerability-db-5.1.0/LICENSE` & `appthreat-vulnerability-db-5.1.1/LICENSE`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/PKG-INFO` & `appthreat-vulnerability-db-5.1.1/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: appthreat-vulnerability-db
-Version: 5.1.0
+Version: 5.1.1
 Summary: AppThreat's vulnerability database and package search library with a built-in file based storage. OSV, CVE, GitHub, npm are the primary sources of vulnerabilities.
 Home-page: https://github.com/appthreat/vulnerability-db
 Author: Team AppThreat
 Author-email: cloud@appthreat.com
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: System Administrators
```

### Comparing `appthreat-vulnerability-db-5.1.0/README.md` & `appthreat-vulnerability-db-5.1.1/README.md`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/PKG-INFO` & `appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: appthreat-vulnerability-db
-Version: 5.1.0
+Version: 5.1.1
 Summary: AppThreat's vulnerability database and package search library with a built-in file based storage. OSV, CVE, GitHub, npm are the primary sources of vulnerabilities.
 Home-page: https://github.com/appthreat/vulnerability-db
 Author: Team AppThreat
 Author-email: cloud@appthreat.com
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: System Administrators
```

### Comparing `appthreat-vulnerability-db-5.1.0/appthreat_vulnerability_db.egg-info/SOURCES.txt` & `appthreat-vulnerability-db-5.1.1/appthreat_vulnerability_db.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/setup.py` & `appthreat-vulnerability-db-5.1.1/setup.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 import setuptools
 
 with open("README.md", "r") as fh:
     long_description = fh.read()
 
 setuptools.setup(
     name="appthreat-vulnerability-db",
-    version="5.1.0",
+    version="5.1.1",
     author="Team AppThreat",
     author_email="cloud@appthreat.com",
     description="AppThreat's vulnerability database and package search library with a built-in file based storage. OSV, CVE, GitHub, npm are the primary sources of vulnerabilities.",
     entry_points={"console_scripts": ["vdb=vdb.cli:main"]},
     long_description=long_description,
     long_description_content_type="text/markdown",
     url="https://github.com/appthreat/vulnerability-db",
```

### Comparing `appthreat-vulnerability-db-5.1.0/test/test_db.py` & `appthreat-vulnerability-db-5.1.1/test/test_db.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/test/test_npm.py` & `appthreat-vulnerability-db-5.1.1/test/test_npm.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/test/test_source.py` & `appthreat-vulnerability-db-5.1.1/test/test_source.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/test/test_storage.py` & `appthreat-vulnerability-db-5.1.1/test/test_storage.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/test/test_utils.py` & `appthreat-vulnerability-db-5.1.1/test/test_utils.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/cli.py` & `appthreat-vulnerability-db-5.1.1/vdb/cli.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,14 +16,16 @@
 from vdb.lib.nvd import NvdSource
 from vdb.lib.osv import OSVSource
 
 logging.basicConfig(
     level=logging.INFO, format="%(levelname)s [%(asctime)s] %(message)s"
 )
 LOG = logging.getLogger(__name__)
+for _ in ("httpx",):
+    logging.getLogger(_).disabled = True
 
 at_logo = """
   ___            _____ _                    _
  / _ \          |_   _| |                  | |
 / /_\ \_ __  _ __ | | | |__  _ __ ___  __ _| |_
 |  _  | '_ \| '_ \| | | '_ \| '__/ _ \/ _` | __|
 | | | | |_) | |_) | | | | | | | |  __/ (_| | |_
```

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/__init__.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/__init__.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/aqua.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/aqua.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/config.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/config.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/db.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/db.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/gha.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/gha.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/npm.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/npm.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/nvd.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/nvd.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/osv.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/osv.py`

 * *Files identical despite different names*

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/storage.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/storage.py`

 * *Files 3% similar despite different names*

```diff
@@ -37,41 +37,42 @@
                                 "min_affected_version_excluding"
                             ),
                             "max_affected_version_excluding": data["details"].get(
                                 "max_affected_version_excluding"
                             ),
                         }
                     )
-        packed_obj = msgpack.packb(batch, use_bin_type=True)
+        packed_obj = msgpack.packb(batch)
         with open(db_file, mode="ab") as fp:
             store_pos = fp.tell()
             fp.write(packed_obj)
             store_end_pos = fp.tell()
             index_obj = msgpack.packb(
                 [
                     {
                         "store_pos": store_pos,
                         "store_end_pos": store_end_pos,
                         "index_list": index_list,
                     }
                 ],
-                use_bin_type=True,
             )
             with open(index_file, mode="ab") as fp:
                 fp.write(index_obj)
     return packed_obj
 
 
 def stream_read(db_file=config.vdb_bin_file):
     """"""
     data_list = []
     if not os.path.isfile(db_file):
         return data_list
     with open(db_file, mode="rb") as fp:
-        unpacker = msgpack.Unpacker(fp, read_size=read_size, use_list=1, raw=False)
+        unpacker = msgpack.Unpacker(
+            fp, read_size=read_size, use_list=1, strict_map_key=False
+        )
         for unpacked in unpacker:
             if unpacked:
                 data_list += unpacked
     return data_list
 
 
 def stream_bulk_search(match_list, key_func, db_file=config.vdb_bin_file):
@@ -87,15 +88,17 @@
                 store_end_pos = None
                 if len(tmpB) > 1:
                     store_end_pos = tmpB[1]
                     if store_end_pos.isdigit():
                         store_end_pos = int(store_end_pos)
                 if store_pos and store_pos.isdigit():
                     fp.seek(int(store_pos))
-            unpacker = msgpack.Unpacker(fp, read_size=read_size, use_list=1, raw=False)
+            unpacker = msgpack.Unpacker(
+                fp, read_size=read_size, use_list=1, strict_map_key=False
+            )
             for unpacked in unpacker:
                 if isinstance(unpacked, list):
                     for data in unpacked:
                         if isinstance(data, dict) and key_func(data, [amatch]):
                             res.append(data)
                 # Break if we are scanning past the storage size
                 if store_end_pos and fp.tell() > store_end_pos:
```

### Comparing `appthreat-vulnerability-db-5.1.0/vdb/lib/utils.py` & `appthreat-vulnerability-db-5.1.1/vdb/lib/utils.py`

 * *Files identical despite different names*

